(()=>{var e={};e.id=2025,e.ids=[2025],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},82715:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d});var s=r(50482),n=r(69108),a=r(62563),i=r.n(a),l=r(68300),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let d=["",{children:["ilanlar",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,9698)),"C:\\Users\\eren\\Kavun, organization\\app\\ilanlar\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,6521)),"C:\\Users\\eren\\Kavun, organization\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\eren\\Kavun, organization\\app\\ilanlar\\page.tsx"],m="/ilanlar/page",x={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/ilanlar/page",pathname:"/ilanlar",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},49081:(e,t,r)=>{Promise.resolve().then(r.bind(r,42554))},42554:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var s=r(95344),n=r(3729),a=r(67296),i=r(8428),l=r(56506),o=r(15739);function d(){let{user:e,loading:t}=(0,a.useAuth)(),r=(0,i.useRouter)(),[d,c]=(0,n.useState)([]),[m,x]=(0,n.useState)(!0),[u,h]=(0,n.useState)(""),[p,g]=(0,n.useState)(""),[b,f]=(0,n.useState)({method:"",priceMin:"",priceMax:""}),[j,v]=(0,n.useState)(!1);(0,n.useEffect)(()=>{t||e||r.push("/auth/login")},[e,t,r]),(0,n.useEffect)(()=>{let t=async()=>{if(e&&e.university)try{x(!0);let t=new URLSearchParams(window.location.search).get("search");t&&g(t);let r=p?`/api/ilanlar/university?university=${encodeURIComponent(e.university)}&search=${encodeURIComponent(p)}`:`/api/ilanlar/university?university=${encodeURIComponent(e.university)}`;console.log("Fetching listings from URL:",r),console.log("User university:",e.university);let s=await fetch(r);if(!s.ok){let e=await s.json();throw Error(e.error||"İlanlar getirilirken bir hata oluştu")}let n=await s.json();console.log("Received listings data:",n),console.log("Number of listings found:",n.length),c(n),h("")}catch(e){console.error("İlanlar y\xfcklenirken hata oluştu:",e),h("İlanlar y\xfcklenirken bir hata oluştu. L\xfctfen daha sonra tekrar deneyin.")}finally{x(!1)}};e&&e.university&&t()},[e,p]);let F=e=>{let{name:t,value:r}=e.target;f(e=>({...e,[t]:r}))},y=d.filter(e=>!(b.method&&e.method!==b.method||b.priceMin&&e.price<Number(b.priceMin)||b.priceMax&&e.price>Number(b.priceMax)));return t||!e?s.jsx("div",{className:"min-h-screen bg-white pt-20",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"w-12 h-12 border-4 border-[#FFB996] border-t-[#FF8B5E] rounded-full animate-spin"})})})}):s.jsx("div",{className:"min-h-screen bg-white pt-24 pb-16",children:s.jsx("div",{className:"container mx-auto px-4",children:(0,s.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,s.jsxs)("div",{className:"mb-8 text-center md:text-left",children:[(0,s.jsxs)("div",{className:"inline-block mb-3 px-4 py-1 bg-[#FFF5F0] rounded-full text-[#994D1C] text-sm font-medium",children:[s.jsx(o.Q7H,{className:"inline-block mr-2"}),e.university]}),s.jsx("h1",{className:"text-4xl font-bold text-[#6B3416] mb-3",children:"\xdcniversitenizdeki İlanlar"}),s.jsx("p",{className:"text-[#994D1C] max-w-2xl md:mx-0 mx-auto",children:"\xdcniversitenizdeki \xf6ğretmenlerin verdiği dersleri keşfedin ve ihtiyacınıza en uygun olanı se\xe7in."})]}),(0,s.jsxs)("div",{className:"mb-8",children:[s.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault()},className:"flex flex-col md:flex-row gap-4 mb-4",children:[(0,s.jsxs)("div",{className:"flex-1 relative",children:[s.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#FFB996]",children:s.jsx(o.U41,{size:18})}),s.jsx("input",{type:"text",placeholder:"İlan ara...",value:p,onChange:e=>g(e.target.value),className:"w-full px-4 py-4 pl-12 rounded-xl border border-gray-200 bg-[#FAFAFA] focus:outline-none focus:ring-2 focus:ring-[#FFB996] focus:bg-white transition-all duration-200"})]}),(0,s.jsxs)("button",{type:"button",onClick:()=>v(!j),className:`px-5 py-4 rounded-xl flex items-center justify-center md:w-auto transition-all duration-200 ${j?"bg-[#FFB996] text-white":"bg-[#FFE5D9] text-[#6B3416] hover:bg-[#FFDAC1]"}`,children:[s.jsx(o.ulB,{className:"mr-2"}),"Filtreler ",j?"(A\xe7ık)":""]}),s.jsx("button",{type:"submit",className:"px-6 py-4 bg-gradient-to-r from-[#FFB996] to-[#FF8B5E] text-white rounded-xl font-medium hover:shadow-md hover:shadow-[#FFB996]/20 transition-all duration-200",children:"Ara"})]})}),j&&(0,s.jsxs)("div",{className:"mt-4 bg-[#FFF9F5] p-6 rounded-xl border border-[#FFE5D9] mb-6",children:[(0,s.jsxs)("h3",{className:"text-[#6B3416] font-medium mb-4 flex items-center",children:[s.jsx(o.ulB,{className:"mr-2"}),"Filtreleme Se\xe7enekleri"]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-[#994D1C] mb-2",children:"Ders Y\xf6ntemi"}),(0,s.jsxs)("select",{name:"method",value:b.method,onChange:F,className:"w-full px-4 py-3 rounded-lg bg-white border border-[#FFE5D9] focus:outline-none focus:ring-2 focus:ring-[#FFB996] focus:border-[#FFB996] transition-all duration-200",children:[s.jsx("option",{value:"",children:"T\xfcm y\xf6ntemler"}),s.jsx("option",{value:"online",children:"Online"}),s.jsx("option",{value:"y\xfczy\xfcze",children:"Y\xfcz y\xfcze"}),s.jsx("option",{value:"hibrit",children:"Hibrit"})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-[#994D1C] mb-2",children:"Minimum \xdccret (₺)"}),s.jsx("input",{type:"number",name:"priceMin",value:b.priceMin,onChange:F,placeholder:"Minimum fiyat",className:"w-full px-4 py-3 rounded-lg bg-white border border-[#FFE5D9] focus:outline-none focus:ring-2 focus:ring-[#FFB996] focus:border-[#FFB996] transition-all duration-200"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-[#994D1C] mb-2",children:"Maksimum \xdccret (₺)"}),s.jsx("input",{type:"number",name:"priceMax",value:b.priceMax,onChange:F,placeholder:"Maksimum fiyat",className:"w-full px-4 py-3 rounded-lg bg-white border border-[#FFE5D9] focus:outline-none focus:ring-2 focus:ring-[#FFB996] focus:border-[#FFB996] transition-all duration-200"})]})]}),s.jsx("div",{className:"mt-4 flex justify-end",children:s.jsx("button",{type:"button",onClick:()=>{f({method:"",priceMin:"",priceMax:""})},className:"px-4 py-2 text-[#994D1C] hover:text-[#6B3416] font-medium transition-colors duration-200",children:"Filtreleri Temizle"})})]})]}),!m&&!u&&y.length>0&&(0,s.jsxs)("div",{className:"mb-6 flex flex-col md:flex-row md:items-center justify-between",children:[(0,s.jsxs)("p",{className:"text-[#6B3416] font-medium mb-2 md:mb-0",children:[s.jsx("span",{className:"text-[#FF8B5E] font-bold",children:y.length})," ilan bulundu",p&&(0,s.jsxs)("span",{children:[' "',p,'" araması i\xe7in']}),b.method&&(0,s.jsxs)("span",{children:[", ",b.method," y\xf6ntemi ile"]}),(b.priceMin||b.priceMax)&&(0,s.jsxs)("span",{children:[", fiyat aralığı: ",b.priceMin||"0"," - ",b.priceMax||"∞"," ₺"]})]}),(0,s.jsxs)("div",{className:"text-sm text-gray-500",children:[s.jsx("span",{className:"mr-2",children:"Sıralama:"}),(0,s.jsxs)("select",{className:"px-2 py-1 rounded border border-gray-200 focus:outline-none focus:ring-1 focus:ring-[#FFB996]",onChange:e=>{console.log(e.target.value)},children:[s.jsx("option",{value:"newest",children:"En Yeni"}),s.jsx("option",{value:"priceAsc",children:"Fiyat (Artan)"}),s.jsx("option",{value:"priceDesc",children:"Fiyat (Azalan)"})]})]})]}),m?s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"w-12 h-12 border-4 border-[#FFB996] border-t-[#FF8B5E] rounded-full animate-spin"})}):u?(0,s.jsxs)("div",{className:"bg-white p-8 rounded-xl shadow-md text-center border border-red-100",children:[s.jsx("div",{className:"text-red-500 text-5xl mb-4 flex justify-center",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"w-16 h-16",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),s.jsx("p",{className:"text-red-500 font-medium text-lg mb-2",children:"Bir Hata Oluştu"}),s.jsx("p",{className:"text-gray-600 mb-4",children:u}),s.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-colors duration-200",children:"Yeniden Dene"})]}):0===y.length?(0,s.jsxs)("div",{className:"bg-white p-10 rounded-xl shadow-md text-center border border-[#FFE5D9]",children:[s.jsx("div",{className:"text-[#FFB996] text-5xl mb-6 flex justify-center",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"w-20 h-20",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx("h3",{className:"text-[#6B3416] text-xl font-bold mb-2",children:p||b.method||b.priceMin||b.priceMax?"Arama Sonu\xe7ları Bulunamadı":"Hen\xfcz İlan Bulunmuyor"}),s.jsx("p",{className:"text-[#994D1C] mb-6 max-w-md mx-auto",children:p?`"${p}" araması i\xe7in sonu\xe7 bulunamadı.`:"\xdcniversitenizdeki \xf6ğretmenler ilan verdik\xe7e burada g\xf6r\xfcnt\xfclenecektir."}),(p||b.method||b.priceMin||b.priceMax)&&s.jsx("button",{onClick:()=>{g(""),f({method:"",priceMin:"",priceMax:""})},className:"px-6 py-3 bg-[#FFE5D9] text-[#6B3416] rounded-xl hover:bg-[#FFDAC1] transition-colors duration-200",children:"T\xfcm İlanları G\xf6ster"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:y.map(t=>(0,s.jsxs)("div",{className:"group bg-white p-6 rounded-xl shadow-sm hover:shadow-xl border border-gray-100 hover:border-[#FFE5D9] transition-all duration-300",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[s.jsx("h2",{className:"text-xl font-bold text-[#6B3416] line-clamp-1 group-hover:text-[#FF8B5E] transition-colors duration-200",children:t.title}),(0,s.jsxs)("div",{className:"bg-[#FFF5F0] px-3 py-1 rounded-full text-[#FF8B5E] font-bold text-sm",children:[t.price," ₺"]})]}),s.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2 text-sm",children:t.description}),s.jsx("div",{className:"border-t border-gray-100 my-4"}),(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-[#FFB996] to-[#FF8B5E] flex items-center justify-center text-white font-medium mr-3 shadow-sm group-hover:shadow-md transition-all duration-300",children:t.teacher?.name.charAt(0).toUpperCase()}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"font-medium text-gray-800",children:t.teacher?.name}),s.jsx("p",{className:"text-xs text-gray-500",children:t.teacher?.expertise||"\xd6ğretmen"})]})]}),(0,s.jsxs)(l.default,{href:`/ogretmen-ilanlari/${t.teacher._id}`,className:"text-sm text-[#FF8B5E] hover:text-[#FF6B1A] hover:underline transition-colors flex items-center",children:[s.jsx("span",{children:"T\xfcm İlanları"}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center bg-gray-50 p-2 rounded-lg",children:[s.jsx(o.l80,{className:"text-green-600 mr-2"}),(0,s.jsxs)("span",{className:"text-gray-800 text-sm",children:[t.price," ₺/Saat"]})]}),(0,s.jsxs)("div",{className:"flex items-center bg-gray-50 p-2 rounded-lg",children:[s.jsx(o.qyc,{className:"text-blue-600 mr-2"}),(0,s.jsxs)("span",{className:"text-gray-800 text-sm",children:[t.duration," Saat"]})]}),(0,s.jsxs)("div",{className:"flex items-center bg-gray-50 p-2 rounded-lg",children:[s.jsx(o.FcZ,{className:"text-purple-600 mr-2"}),s.jsx("span",{className:"text-gray-800 text-sm capitalize",children:t.method})]}),(0,s.jsxs)("div",{className:"flex items-center bg-gray-50 p-2 rounded-lg",children:[s.jsx(o.Q7H,{className:"text-orange-600 mr-2"}),s.jsx("span",{className:"text-gray-800 text-sm line-clamp-1",children:e.university})]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[s.jsx(l.default,{href:`/ilan/${t._id}`,className:"block flex-1 text-center py-3 bg-gradient-to-r from-[#FFB996] to-[#FF8B5E] text-white rounded-lg font-medium hover:shadow-md hover:shadow-[#FFB996]/20 transition-all duration-300 transform group-hover:translate-y-[-2px]",children:"Detayları G\xf6r"}),s.jsx(l.default,{href:`/ogretmen-ilanlari/${t.teacher._id}`,className:"block py-3 px-3 bg-[#FFF5F0] text-[#FF8B5E] rounded-lg font-medium hover:bg-[#FFE5D9] transition-all duration-300 transform group-hover:translate-y-[-2px]",children:s.jsx(o.FcZ,{size:18})})]})]},t._id))})]})})})}},9698:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>a,__esModule:()=>n,default:()=>i});let s=(0,r(86843).createProxy)(String.raw`C:\Users\eren\Kavun, organization\app\ilanlar\page.tsx`),{__esModule:n,$$typeof:a}=s,i=s.default}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[1638,2165,5739,8798],()=>r(82715));module.exports=s})();