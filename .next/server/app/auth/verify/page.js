(()=>{var e={};e.id=7937,e.ids=[7937],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6158:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>c,pages:()=>u,routeModule:()=>x,tree:()=>d});var r=a(50482),s=a(69108),n=a(62563),i=a.n(n),o=a(68300),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);a.d(t,l);let d=["",{children:["auth",{children:["verify",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,16623)),"C:\\Users\\eren\\Kavun, organization\\app\\auth\\verify\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,50984)),"C:\\Users\\eren\\Kavun, organization\\app\\auth\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,6521)),"C:\\Users\\eren\\Kavun, organization\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,69361,23)),"next/dist/client/components/not-found-error"]}],u=["C:\\Users\\eren\\Kavun, organization\\app\\auth\\verify\\page.tsx"],c="/auth/verify/page",m={require:a,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/auth/verify/page",pathname:"/auth/verify",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},2073:(e,t,a)=>{Promise.resolve().then(a.bind(a,55936))},29667:(e,t,a)=>{Promise.resolve().then(a.bind(a,30407))},55936:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});var r=a(95344),s=a(41067);function n({children:e}){return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-[#FFB996] to-[#FFECEC] py-12 px-4 sm:px-6 lg:px-8",children:r.jsx(s.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"relative max-w-5xl w-full bg-white rounded-xl shadow-2xl p-6 mt-8",children:r.jsx(s.E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:.3},className:"relative",children:e})})})}},30407:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var r=a(95344),s=a(3729),n=a(8428),i=a(56506),o=a(67296);function l(){let e=(0,n.useRouter)(),t=(0,n.useSearchParams)().get("email"),{setUser:a}=(0,o.useAuth)(),[l,d]=(0,s.useState)(""),[u,c]=(0,s.useState)(""),[m,x]=(0,s.useState)(""),[p,h]=(0,s.useState)(!1),[y,f]=(0,s.useState)(5),v=async r=>{if(r.preventDefault(),t&&l){h(!0);try{let r=await fetch("/api/auth/verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,code:l})}),s=await r.json();if(!r.ok)throw Error(s.error||"Email doğrulama sırasında bir hata oluştu");if(s.user&&s.token){localStorage.setItem("user",JSON.stringify(s.user)),localStorage.setItem("token",s.token),a(s.user),x("Email adresiniz başarıyla doğrulandı! Ana sayfaya y\xf6nlendiriliyorsunuz...");let t=setInterval(()=>{f(a=>a<=1?(clearInterval(t),"student"===s.user.role?e.push("/egitmenler"):e.push("/"),0):a-1)},1e3);return()=>clearInterval(t)}{x("Email adresiniz başarıyla doğrulandı! Giriş sayfasına y\xf6nlendiriliyorsunuz...");let t=setInterval(()=>{f(a=>a<=1?(clearInterval(t),e.push("/auth/login"),0):a-1)},1e3);return()=>clearInterval(t)}}catch(e){c(e instanceof Error?e.message:"Email doğrulama sırasında bir hata oluştu")}finally{h(!1)}}};return t?r.jsx("div",{className:"w-[300px] mx-auto",children:(0,r.jsxs)("div",{className:"space-y-3 w-auto",children:[(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-[#994D1C] text-center",children:"Email Doğrulama"}),r.jsx("p",{className:"mt-1 text-sm text-[#6B3416] text-center",children:"Email adresinize g\xf6nderilen 6 haneli doğrulama kodunu giriniz."})]}),m?(0,r.jsxs)("div",{className:"text-center space-y-2",children:[r.jsx("div",{className:"text-[#994D1C] font-medium",children:m}),(0,r.jsxs)("p",{className:"text-[#6B3416]",children:[y," saniye i\xe7inde y\xf6nlendirileceksiniz..."]}),r.jsx(i.default,{href:"/auth/login",className:"text-[#FF8B5E] hover:text-[#994D1C] transition-colors font-medium",children:"Hemen Giriş Yap"})]}):(0,r.jsxs)("form",{onSubmit:v,className:"space-y-2",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"code",className:"block text-sm font-medium text-[#6B3416]",children:"Doğrulama Kodu"}),r.jsx("input",{type:"text",id:"code",value:l,onChange:e=>d(e.target.value),placeholder:"123456",className:"mt-1 block w-full rounded-md border-[#FFB996] shadow-sm focus:border-[#FF8B5E] focus:ring focus:ring-[#FF8B5E] focus:ring-opacity-50",maxLength:6,required:!0})]}),u&&r.jsx("div",{className:"text-red-600 text-sm font-medium",children:u}),r.jsx("button",{type:"submit",disabled:p||!l,className:"w-full bg-gradient-to-r from-[#FF8B5E] to-[#FFB996] text-white font-semibold py-2 px-4 rounded-md hover:from-[#994D1C] hover:to-[#FF8B5E] transition-all duration-300 shadow-md hover:shadow-lg disabled:opacity-50",children:p?"Doğrulanıyor...":"Doğrula"})]})]})}):r.jsx("div",{className:"max-w-md mx-auto",children:(0,r.jsxs)("div",{className:"text-center space-y-4",children:[r.jsx("div",{className:"text-[#994D1C] font-medium",children:"Ge\xe7ersiz veya s\xfcresi dolmuş doğrulama bağlantısı."}),r.jsx(i.default,{href:"/auth/login",className:"text-[#FF8B5E] hover:text-[#994D1C] transition-colors font-medium",children:"Giriş sayfasına d\xf6n"})]})})}},50984:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>n,__esModule:()=>s,default:()=>i});let r=(0,a(86843).createProxy)(String.raw`C:\Users\eren\Kavun, organization\app\auth\layout.tsx`),{__esModule:s,$$typeof:n}=r,i=r.default},16623:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>n,__esModule:()=>s,default:()=>i});let r=(0,a(86843).createProxy)(String.raw`C:\Users\eren\Kavun, organization\app\auth\verify\page.tsx`),{__esModule:s,$$typeof:n}=r,i=r.default}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[1638,2165,1067,8798],()=>a(6158));module.exports=r})();