"use strict";(()=>{var e={};e.id=1096,e.ids=[1096],e.modules={11185:e=>{e.exports=require("mongoose")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},42685:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>b,originalPathname:()=>k,patchFetch:()=>x,requestAsyncStorage:()=>f,routeModule:()=>y,serverHooks:()=>S,staticGenerationAsyncStorage:()=>v,staticGenerationBailout:()=>w});var n={};t.r(n),t.d(n,{GET:()=>h});var a=t(95419),i=t(69108),o=t(99678),u=t(78070),l=t(22345),s=t(11185),d=t.n(s);let m=new(d()).Schema({title:{type:String,required:[!0,"Başlık zorunludur"],trim:!0},description:{type:String,required:[!0,"A\xe7ıklama zorunludur"],trim:!0},price:{type:Number,required:[!0,"\xdccret zorunludur"]},method:{type:String,enum:["online","y\xfczy\xfcze","hibrit"],default:"online"},duration:{type:Number,required:[!0,"S\xfcre zorunludur"]},frequency:{type:String,enum:["daily","weekly","monthly","flexible"],default:"weekly"},status:{type:String,enum:["active","inactive"],default:"active"},userId:{type:String,required:!0}},{timestamps:!0}),c=d().models.Ilan||d().model("Ilan",m),p=new(d()).Schema({name:String,email:String,role:String,university:String,expertise:String}),g=d().models.User||d().model("User",p);async function h(e){try{await (0,l.Z)();let{searchParams:r}=new URL(e.url),t=r.get("teacherId");if(!t)return u.Z.json({error:"\xd6ğretmen ID parametresi gereklidir"},{status:400});let n=await g.findOne({_id:t,role:"teacher"});if(!n)return u.Z.json({error:"\xd6ğretmen bulunamadı"},{status:404});let a=(await c.find({userId:t,status:"active"}).sort({createdAt:-1})).map(e=>({...e.toObject(),teacher:{_id:n._id,name:n.name,email:n.email,university:n.university,expertise:n.expertise}}));return u.Z.json(a)}catch(e){return console.error("\xd6ğretmen ilanları getirme hatası:",e),u.Z.json({error:e.message||"İlanlar getirilirken bir hata oluştu"},{status:500})}}let y=new a.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/ilanlar/teacher/route",pathname:"/api/ilanlar/teacher",filename:"route",bundlePath:"app/api/ilanlar/teacher/route"},resolvedPagePath:"C:\\Users\\eren\\Kavun, organization\\app\\api\\ilanlar\\teacher\\route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:f,staticGenerationAsyncStorage:v,serverHooks:S,headerHooks:b,staticGenerationBailout:w}=y,k="/api/ilanlar/teacher/route";function x(){return(0,o.patchFetch)({serverHooks:S,staticGenerationAsyncStorage:v})}},22345:(e,r,t)=>{t.d(r,{Z:()=>u});var n=t(11185),a=t.n(n);let i=process.env.MONGODB_URI;if(!i)throw Error("MongoDB URI bulunamadı. L\xfctfen .env dosyasını kontrol edin.");let o=global.mongoose||{conn:null,promise:null};global.mongoose||(global.mongoose=o);let u=async function(){if(o.conn)return o.conn;o.promise||(o.promise=a().connect(i,{bufferCommands:!1}).then(e=>e));try{o.conn=await o.promise}catch(e){throw o.promise=null,e}return o.conn}}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),n=r.X(0,[1638,6206],()=>t(42685));module.exports=n})();