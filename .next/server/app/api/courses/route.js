"use strict";(()=>{var e={};e.id=4740,e.ids=[4740],e.modules={11185:e=>{e.exports=require("mongoose")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},35960:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>f,originalPathname:()=>v,patchFetch:()=>q,requestAsyncStorage:()=>m,routeModule:()=>c,serverHooks:()=>y,staticGenerationAsyncStorage:()=>g,staticGenerationBailout:()=>h});var n={};r.r(n),r.d(n,{GET:()=>d,POST:()=>p});var o=r(95419),a=r(69108),u=r(99678),i=r(78070),s=r(22345),l=r(20035);async function d(){try{await (0,s.Z)();let e=await l.Z.find({}).sort({createdAt:-1});return i.Z.json(e)}catch(e){return i.Z.json({error:e.message||"Kurslar alınamadı"},{status:500})}}async function p(e){try{await (0,s.Z)();let t=await e.json(),r=await l.Z.create(t);return i.Z.json(r,{status:201})}catch(e){return i.Z.json({error:e.message||"Kurs eklenemedi"},{status:500})}}let c=new o.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/courses/route",pathname:"/api/courses",filename:"route",bundlePath:"app/api/courses/route"},resolvedPagePath:"C:\\Users\\eren\\Kavun, organization\\app\\api\\courses\\route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:m,staticGenerationAsyncStorage:g,serverHooks:y,headerHooks:f,staticGenerationBailout:h}=c,v="/api/courses/route";function q(){return(0,u.patchFetch)({serverHooks:y,staticGenerationAsyncStorage:g})}},22345:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(11185),o=r.n(n);let a=process.env.MONGODB_URI;if(!a)throw Error("MongoDB URI bulunamadı. L\xfctfen .env dosyasını kontrol edin.");let u=global.mongoose||{conn:null,promise:null};global.mongoose||(global.mongoose=u);let i=async function(){if(u.conn)return u.conn;u.promise||(u.promise=o().connect(a,{bufferCommands:!1}).then(e=>e));try{u.conn=await u.promise}catch(e){throw u.promise=null,e}return u.conn}},20035:(e,t,r)=>{r.d(t,{Z:()=>u});var n=r(11185),o=r.n(n);let a=new(o()).Schema({title:{type:String,required:!0},description:{type:String,required:!0},imageUrl:{type:String,required:!0},instructor:{type:String,required:!0},duration:{type:String,required:!0},level:{type:String,enum:["Başlangı\xe7","Orta","İleri"],required:!0},topics:[{type:String,required:!0}],requirements:[{type:String,required:!0}],price:{type:Number,required:!0},isPublished:{type:Boolean,default:!1},rating:{average:{type:Number,default:0},count:{type:Number,default:0}},enrollmentCount:{type:Number,default:0},createdAt:{type:Date,default:Date.now},updatedAt:{type:Date,default:Date.now}});a.pre("save",function(e){this.updatedAt=new Date,e()});let u=o().models.Course||o().model("Course",a)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[1638,6206],()=>r(35960));module.exports=n})();