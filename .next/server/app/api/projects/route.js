"use strict";(()=>{var e={};e.id=4871,e.ids=[4871],e.modules={11185:e=>{e.exports=require("mongoose")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},45242:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>h,originalPathname:()=>f,patchFetch:()=>v,requestAsyncStorage:()=>m,routeModule:()=>d,serverHooks:()=>y,staticGenerationAsyncStorage:()=>g,staticGenerationBailout:()=>j});var o={};r.r(o),r.d(o,{GET:()=>c,POST:()=>p});var n=r(95419),a=r(69108),i=r(99678),u=r(78070),s=r(22345),l=r(27107);async function c(){try{await (0,s.Z)();let e=await l.Z.find({}).sort({createdAt:-1}).select("title description category imageUrl projectUrl technologies status");return u.Z.json(e)}catch(e){return console.error("Projects fetch error:",e),u.Z.json({error:"Projeler y\xfcklenirken bir hata oluştu"},{status:500})}}async function p(e){try{await (0,s.Z)();let t=await e.json(),r=await l.Z.create(t);return u.Z.json(r,{status:201})}catch(e){return console.error("Project creation error:",e),u.Z.json({error:e.message||"Proje oluşturulurken bir hata oluştu"},{status:500})}}let d=new n.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/projects/route",pathname:"/api/projects",filename:"route",bundlePath:"app/api/projects/route"},resolvedPagePath:"C:\\Users\\eren\\Kavun, organization\\app\\api\\projects\\route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:m,staticGenerationAsyncStorage:g,serverHooks:y,headerHooks:h,staticGenerationBailout:j}=d,f="/api/projects/route";function v(){return(0,i.patchFetch)({serverHooks:y,staticGenerationAsyncStorage:g})}},22345:(e,t,r)=>{r.d(t,{Z:()=>u});var o=r(11185),n=r.n(o);let a=process.env.MONGODB_URI;if(!a)throw Error("MongoDB URI bulunamadı. L\xfctfen .env dosyasını kontrol edin.");let i=global.mongoose||{conn:null,promise:null};global.mongoose||(global.mongoose=i);let u=async function(){if(i.conn)return i.conn;i.promise||(i.promise=n().connect(a,{bufferCommands:!1}).then(e=>e));try{i.conn=await i.promise}catch(e){throw i.promise=null,e}return i.conn}},27107:(e,t,r)=>{r.d(t,{Z:()=>i});var o=r(11185),n=r.n(o);let a=new(n()).Schema({title:{type:String,required:[!0,"Başlık zorunludur"]},description:{type:String,required:[!0,"A\xe7ıklama zorunludur"]},category:{type:String,enum:["Web","Mobil","Masa\xfcst\xfc","Yapay Zeka","Genel","Diğer"],required:[!0,"Kategori zorunludur"],default:"Genel"},imageUrl:{type:String,required:[!0,"Resim URL zorunludur"],default:"/images/default-project.jpg"},projectUrl:{type:String,required:[!0,"Proje URL zorunludur"]},technologies:[{type:String}],githubUrl:{type:String},liveUrl:{type:String},status:{type:String,enum:["Devam Ediyor","Tamamlandı","Planlanıyor"],default:"Devam Ediyor"},createdAt:{type:Date,default:Date.now},updatedAt:{type:Date,default:Date.now}},{timestamps:!0});a.pre("save",function(e){this.updatedAt=new Date,e()});let i=n().models.Project||n().model("Project",a)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[1638,6206],()=>r(45242));module.exports=o})();