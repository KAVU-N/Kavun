(()=>{var e={};e.id=2584,e.ids=[2584],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},32081:e=>{"use strict";e.exports=require("child_process")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},24945:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>x,tree:()=>c});var s=r(50482),a=r(69108),i=r(62563),n=r.n(i),l=r(68300),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let c=["",{children:["mesajlarim",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,1648)),"C:\\Users\\eren\\Kavun, organization\\app\\mesajlarim\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,6521)),"C:\\Users\\eren\\Kavun, organization\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\eren\\Kavun, organization\\app\\mesajlarim\\page.tsx"],u="/mesajlarim/page",m={require:r,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/mesajlarim/page",pathname:"/mesajlarim",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},75505:(e,t,r)=>{Promise.resolve().then(r.bind(r,86311))},86311:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var s=r(95344),a=r(3729),i=r(67296),n=r(56506),l=r(89410),o=r(88045);function c(){let{user:e}=(0,i.useAuth)(),[t,r]=(0,a.useState)([]),[c,d]=(0,a.useState)(!0),[u,m]=(0,a.useState)(null),[x,h]=(0,a.useState)(null),[p,f]=(0,a.useState)(!1);(0,a.useEffect)(()=>{f(!0)},[]),(0,a.useEffect)(()=>{e&&p&&g()},[e,p]);let g=async()=>{try{return}catch(e){console.error("Konuşmalar y\xfcklenirken hata oluştu:",e),m(`Konuşmalar y\xfcklenirken bir hata oluştu: ${e.message||"Bilinmeyen hata"}`),d(!1)}},j=async(e,t,r)=>{try{let s=localStorage.getItem("token");if(!s)return;let a=await fetch(`/api/users/${e}`,{headers:{Authorization:`Bearer ${s}`}});if(!a.ok){h({_id:e,name:t,email:"",profilePicture:r,university:"Bilinmiyor",role:"user"});return}let i=await a.json();h({_id:i._id,name:i.name,email:i.email||"",profilePicture:i.profilePicture,university:i.university||"Bilinmiyor",role:i.role||"user"})}catch(s){console.error("Kullanıcı detayları alınırken hata oluştu:",s),h({_id:e,name:t,email:"",profilePicture:r,university:"Bilinmiyor",role:"user"})}};return e?s.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8 pt-24 flex-shrink-0",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:"Mesajlarım"}),c?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#FF8B5E]"})}):u?s.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:s.jsx("p",{children:u})}):(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-[calc(100vh-200px)]",children:[(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden lg:col-span-1 h-full flex flex-col",children:[s.jsx("div",{className:"p-4 bg-[#FFE5D9] font-medium",children:"Konuşmalarım"}),0===t.length?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center h-full p-6 text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-[#FFE5D9] rounded-full flex items-center justify-center mb-4",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-[#FF8B5E]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Hen\xfcz mesajınız yok"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Eğitmenlerle mesajlaşmaya başlamak i\xe7in profillerini ziyaret edebilirsiniz."}),s.jsx(n.default,{href:"/egitmenler",className:"bg-[#FF8B5E] text-white px-4 py-2 rounded hover:bg-[#FF7F50] transition-colors",children:"Eğitmenleri Keşfet"})]}):s.jsx("div",{className:"overflow-y-auto flex-grow",children:t.map(e=>(0,s.jsxs)("div",{onClick:()=>j(e._id,e.name,e.avatar),className:`p-4 flex items-center space-x-3 cursor-pointer hover:bg-[#FFF5F0] transition-colors duration-300 ${x?._id===e._id?"bg-[#FFF5F0]":""}`,children:[(0,s.jsxs)("div",{className:"relative",children:[e.avatar?s.jsx(l.default,{src:e.avatar,alt:e.name,width:48,height:48,className:"rounded-full"}):s.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-[#FFB996] to-[#FF8B5E] flex items-center justify-center",children:s.jsx("span",{className:"text-white font-medium",children:e.name.charAt(0).toUpperCase()})}),e.unread>0&&s.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white text-xs",children:e.unread>9?"9+":e.unread})})]}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),s.jsx("span",{className:"text-xs text-gray-500",children:e.date})]}),s.jsx("p",{className:`text-xs truncate ${e.unread>0?"font-medium text-gray-900":"text-gray-500"}`,children:e.lastMessage})]})]},e._id))})]}),s.jsx("div",{className:"lg:col-span-2 h-full flex flex-col overflow-hidden",children:x?s.jsx("div",{className:"bg-white rounded-lg shadow-md h-full flex flex-col overflow-hidden",children:s.jsx(o.Z,{instructor:{_id:x._id,name:x.name,email:x.email,university:x.university,role:x.role},onClose:()=>{h(null),g()},embedded:!0})}):(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md h-full flex flex-col items-center justify-center p-6 text-center",children:[s.jsx("div",{className:"w-24 h-24 bg-[#FFE5D9] rounded-full flex items-center justify-center mb-4",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-[#FF8B5E]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),s.jsx("h2",{className:"text-xl font-medium text-gray-900 mb-2",children:"Mesajlaşmaya Başlayın"}),s.jsx("p",{className:"text-gray-600 max-w-md mb-6",children:"Sol taraftan bir konuşma se\xe7in veya eğitmen profillerini ziyaret ederek yeni bir mesajlaşma başlatın."}),s.jsx(n.default,{href:"/egitmenler",className:"bg-[#FF8B5E] text-white px-6 py-2 rounded-lg hover:bg-[#FF7F50] transition-colors",children:"Eğitmenleri Keşfet"})]})})]})]})}):s.jsx("div",{className:"min-h-screen pt-24 px-4 flex flex-col items-center justify-center bg-[#FFF9F5]",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-[#994D1C] mb-4",children:"Mesajlarınızı g\xf6rmek i\xe7in giriş yapmalısınız"}),s.jsx(n.default,{href:"/auth/login",className:"inline-block px-6 py-2 rounded-xl bg-gradient-to-r from-[#FFB996] to-[#FF8B5E] text-white font-medium transition-all duration-300 hover:shadow-lg hover:shadow-[#FFB996]/20 hover:scale-105",children:"Giriş Yap"})]})})}},1648:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>a,default:()=>n});let s=(0,r(86843).createProxy)(String.raw`C:\Users\eren\Kavun, organization\app\mesajlarim\page.tsx`),{__esModule:a,$$typeof:i}=s,n=s.default}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[1638,2165,8470,8798,7226],()=>r(24945));module.exports=s})();