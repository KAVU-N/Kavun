(()=>{var e={};e.id=5507,e.ids=[5507],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},83137:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>c,routeModule:()=>m,tree:()=>d});var t=s(50482),a=s(69108),i=s(62563),l=s.n(i),n=s(68300),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(r,o);let d=["",{children:["ayarlar",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,58083)),"C:\\Users\\eren\\Kavun, organization\\app\\ayarlar\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,6521)),"C:\\Users\\eren\\Kavun, organization\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,69361,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\eren\\Kavun, organization\\app\\ayarlar\\page.tsx"],x="/ayarlar/page",u={require:s,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/ayarlar/page",pathname:"/ayarlar",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4007:(e,r,s)=>{Promise.resolve().then(s.bind(s,44457))},44457:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>l});var t=s(95344),a=s(3729),i=s(67296);function l(){let{user:e}=(0,i.useAuth)(),[r,s]=(0,a.useState)("hesap"),[l,n]=(0,a.useState)(null),[o,d]=(0,a.useState)(""),[c,x]=(0,a.useState)(""),[u,m]=(0,a.useState)("");(0,a.useEffect)(()=>{(async()=>{if(e?.id)try{let r=await fetch(`/api/auth/user?id=${e.id}`),s=await r.json();r.ok?(console.log("User details:",s.user),n(s.user),d(s.user.expertise||"")):console.error("Error fetching user details:",s.error)}catch(e){console.error("Failed to fetch user details:",e)}})()},[e?.id]);let p=async()=>{if(e?.id)try{x(""),m("");let r=await fetch("/api/auth/update-expertise",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e.id,expertise:o})}),s=await r.json();r.ok?(x("Uzmanlık alanı başarıyla g\xfcncellendi"),l&&n({...l,expertise:o})):m(s.error||"G\xfcncelleme sırasında bir hata oluştu")}catch(e){console.error("G\xfcncelleme hatası:",e),m("Beklenmeyen bir hata oluştu")}};return console.log("Context user:",e),console.log("User details:",l),t.jsx("div",{className:"min-h-screen bg-[#FFF5F0] pt-24 pb-12",children:t.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[t.jsx("div",{className:"border-b border-[#FFE5D9]",children:(0,t.jsxs)("div",{className:"flex",children:[t.jsx("button",{onClick:()=>s("hesap"),className:`px-6 py-4 text-sm font-medium transition-colors duration-300 ${"hesap"===r?"text-[#6B3416] border-b-2 border-[#FF8B5E]":"text-[#994D1C] hover:text-[#6B3416]"}`,children:"Hesap Bilgileri"}),t.jsx("button",{onClick:()=>s("guvenlik"),className:`px-6 py-4 text-sm font-medium transition-colors duration-300 ${"guvenlik"===r?"text-[#6B3416] border-b-2 border-[#FF8B5E]":"text-[#994D1C] hover:text-[#6B3416]"}`,children:"G\xfcvenlik"})]})}),(0,t.jsxs)("div",{className:"p-6",children:["hesap"===r&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"text-lg font-medium text-[#6B3416]",children:"Hesap Bilgileri"}),t.jsx("p",{className:"mt-1 text-sm text-[#994D1C]",children:"Hesap bilgileriniz."})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-[#6B3416]",children:"Ad Soyad"}),t.jsx("div",{className:"mt-1 block w-full rounded-lg border border-[#FFE5D9] px-3 py-2 text-[#6B3416] bg-[#FFF5F0]",children:l?.name||"Y\xfckleniyor..."})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-[#6B3416]",children:"E-posta"}),t.jsx("div",{className:"mt-1 block w-full rounded-lg border border-[#FFE5D9] px-3 py-2 text-[#6B3416] bg-[#FFF5F0]",children:l?.email||"Y\xfckleniyor..."})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-[#6B3416]",children:"\xdcniversite"}),t.jsx("div",{className:"mt-1 block w-full rounded-lg border border-[#FFE5D9] px-3 py-2 text-[#6B3416] bg-[#FFF5F0]",children:l?.university||"Belirtilmemiş"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-[#6B3416]",children:"Rol"}),t.jsx("div",{className:"mt-1 block w-full rounded-lg border border-[#FFE5D9] px-3 py-2 text-[#6B3416] bg-[#FFF5F0]",children:l?.role==="student"?"\xd6ğrenci":"Eğitmen"})]}),l?.role==="teacher"&&(0,t.jsxs)("div",{children:[t.jsx("label",{htmlFor:"expertise",className:"block text-sm font-medium text-[#6B3416]",children:"Verdiğiniz Ders / Uzmanlık Alanı"}),(0,t.jsxs)("div",{className:"mt-1 flex",children:[t.jsx("input",{id:"expertise",name:"expertise",type:"text",value:o,onChange:e=>d(e.target.value),placeholder:"\xd6rn: Veri Yapıları, Algoritmalar, Java Programlama...",className:"flex-grow block rounded-lg border border-[#FFE5D9] px-3 py-2 text-[#6B3416] shadow-sm focus:border-[#FF8B5E] focus:outline-none focus:ring-1 focus:ring-[#FF8B5E]"}),t.jsx("button",{type:"button",onClick:p,className:"ml-2 px-4 py-2 rounded-lg bg-gradient-to-r from-[#FFB996] to-[#FF8B5E] text-white font-medium    transition-all duration-300 hover:shadow-lg hover:shadow-[#FFB996]/20 hover:scale-105 active:scale-[0.98]",children:"G\xfcncelle"})]}),c&&t.jsx("p",{className:"mt-2 text-sm text-green-600",children:c}),u&&t.jsx("p",{className:"mt-2 text-sm text-red-600",children:u})]})]})]}),"guvenlik"===r&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"text-lg font-medium text-[#6B3416]",children:"Şifre Değiştir"}),t.jsx("p",{className:"mt-1 text-sm text-[#994D1C]",children:"Hesabınızın g\xfcvenliği i\xe7in şifrenizi değiştirebilirsiniz."})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{htmlFor:"current_password",className:"block text-sm font-medium text-[#6B3416]",children:"Mevcut Şifre"}),t.jsx("input",{type:"password",name:"current_password",id:"current_password",className:"mt-1 block w-full rounded-lg border border-[#FFE5D9] px-3 py-2 text-[#6B3416] shadow-sm focus:border-[#FF8B5E] focus:outline-none focus:ring-1 focus:ring-[#FF8B5E]"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{htmlFor:"new_password",className:"block text-sm font-medium text-[#6B3416]",children:"Yeni Şifre"}),t.jsx("input",{type:"password",name:"new_password",id:"new_password",className:"mt-1 block w-full rounded-lg border border-[#FFE5D9] px-3 py-2 text-[#6B3416] shadow-sm focus:border-[#FF8B5E] focus:outline-none focus:ring-1 focus:ring-[#FF8B5E]"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{htmlFor:"confirm_password",className:"block text-sm font-medium text-[#6B3416]",children:"Yeni Şifre (Tekrar)"}),t.jsx("input",{type:"password",name:"confirm_password",id:"confirm_password",className:"mt-1 block w-full rounded-lg border border-[#FFE5D9] px-3 py-2 text-[#6B3416] shadow-sm focus:border-[#FF8B5E] focus:outline-none focus:ring-1 focus:ring-[#FF8B5E]"})]})]}),t.jsx("div",{className:"flex justify-end",children:t.jsx("button",{type:"button",className:"px-6 py-2 rounded-xl bg-gradient-to-r from-[#FFB996] to-[#FF8B5E] text-white font-medium    transition-all duration-300 hover:shadow-lg hover:shadow-[#FFB996]/20 hover:scale-105 active:scale-[0.98]",children:"Şifreyi Değiştir"})})]})]})]})})})}},58083:(e,r,s)=>{"use strict";s.r(r),s.d(r,{$$typeof:()=>i,__esModule:()=>a,default:()=>l});let t=(0,s(86843).createProxy)(String.raw`C:\Users\eren\Kavun, organization\app\ayarlar\page.tsx`),{__esModule:a,$$typeof:i}=t,l=t.default}};var r=require("../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[1638,2165,8798],()=>s(83137));module.exports=t})();