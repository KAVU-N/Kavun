(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[48],{9615:function(e,t,s){Promise.resolve().then(s.bind(s,993))},993:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return o}});var r=s(3827),a=s(4090),n=s(7907),i=s(8792);function o(){let e=(0,n.useRouter)(),t=(0,n.useSearchParams)().get("token"),[s,o]=(0,a.useState)(""),[l,d]=(0,a.useState)(""),[u,c]=(0,a.useState)(!1),[m,f]=(0,a.useState)(""),[h,x]=(0,a.useState)(!1),p=async r=>{if(r.preventDefault(),c(!0),f(""),s.length<8){f("Şifre en az 8 karakter olmalıdır"),c(!1);return}if(s!==l){f("Şifreler eşleşmiyor"),c(!1);return}try{let r=await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:t,password:s})}),a=await r.json();if(!r.ok)throw Error(a.error||"Bir hata oluştu");x(!0),setTimeout(()=>{e.push("/auth/login")},3e3)}catch(e){f(e.message)}finally{c(!1)}};return t?(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-3xl font-bold text-[#994D1C] text-center",children:"Şifre Sıfırlama"}),(0,r.jsx)("p",{className:"mt-2 text-sm text-[#6B3416] text-center",children:"L\xfctfen yeni şifrenizi girin."})]}),h?(0,r.jsxs)("div",{className:"text-center space-y-4",children:[(0,r.jsx)("div",{className:"text-[#994D1C] font-medium",children:"Şifreniz başarıyla g\xfcncellendi. Giriş sayfasına y\xf6nlendiriliyorsunuz..."}),(0,r.jsx)(i.default,{href:"/auth/login",className:"text-[#FF8B5E] hover:text-[#994D1C] transition-colors font-medium",children:"Giriş sayfasına d\xf6n"})]}):(0,r.jsxs)("form",{onSubmit:p,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-[#6B3416]",children:"Yeni Şifre"}),(0,r.jsx)("input",{id:"password",name:"password",type:"password",value:s,onChange:e=>o(e.target.value),required:!0,minLength:8,className:"mt-1 block w-full rounded-md border-[#FFB996] shadow-sm focus:border-[#FF8B5E] focus:ring focus:ring-[#FF8B5E] focus:ring-opacity-50"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-[#994D1C]",children:"En az 8 karakter olmalıdır"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-[#6B3416]",children:"Şifre Tekrar"}),(0,r.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:"password",value:l,onChange:e=>d(e.target.value),required:!0,className:"mt-1 block w-full rounded-md border-[#FFB996] shadow-sm focus:border-[#FF8B5E] focus:ring focus:ring-[#FF8B5E] focus:ring-opacity-50"})]}),m&&(0,r.jsx)("div",{className:"text-red-600 text-sm font-medium",children:m}),(0,r.jsx)("button",{type:"submit",disabled:u,className:"w-full bg-gradient-to-r from-[#FF8B5E] to-[#FFB996] text-white font-semibold py-3 px-6 rounded-md hover:from-[#994D1C] hover:to-[#FF8B5E] transition-all duration-300 shadow-md hover:shadow-lg disabled:opacity-50",children:u?"G\xfcncelleniyor...":"Şifreyi G\xfcncelle"})]})]}):(0,r.jsxs)("div",{className:"text-center space-y-4",children:[(0,r.jsx)("div",{className:"text-[#994D1C] font-medium",children:"Ge\xe7ersiz veya s\xfcresi dolmuş şifre sıfırlama bağlantısı."}),(0,r.jsx)(i.default,{href:"/auth/forgot-password",className:"text-[#FF8B5E] hover:text-[#994D1C] transition-colors font-medium",children:"Yeni şifre sıfırlama bağlantısı talep et"})]})}},7907:function(e,t,s){"use strict";var r=s(5313);s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})}},function(e){e.O(0,[792,971,69,744],function(){return e(e.s=9615)}),_N_E=e.O()}]);