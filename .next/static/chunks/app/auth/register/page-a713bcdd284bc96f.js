(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{2071:function(e,i,s){Promise.resolve().then(s.bind(s,5971))},5971:function(e,i,s){"use strict";s.r(i),s.d(i,{default:function(){return v}});var r=s(3827),t=s(4090),n=s(8792),a=s(7907),l=s(2406),o=s(703),u=s(1853);function v(){let e=(0,a.useRouter)(),i=(0,a.useSearchParams)(),s=i.get("role")||"student",v=i.get("university")||"",{register:m}=(0,l.useAuth)(),[c,d]=(0,t.useState)(""),[h,k]=(0,t.useState)(!1),[y,f]=(0,t.useState)(v),[b,p]=(0,t.useState)(!1),[g,x]=(0,t.useState)([]),[B,F]=(0,t.useState)(-1),[A,j]=(0,t.useState)(""),[S,w]=(0,t.useState)(s),E=(0,t.useRef)(null),N=async i=>{i.preventDefault(),d(""),k(!0);let s=new FormData(i.currentTarget),r=s.get("name"),t=s.get("email"),n=s.get("password"),a=s.get("passwordConfirm"),l=s.get("university");if(console.log("Formdan se\xe7ilen rol:",S),n!==a){d("Şifreler eşleşmiyor"),k(!1);return}try{await m({name:r,email:t,password:n,role:S,university:l}),e.push("/auth/verify?email=".concat(encodeURIComponent(t)))}catch(e){d(e.message||"Kayıt olurken bir hata oluştu")}finally{k(!1)}};return(0,t.useEffect)(()=>{(async()=>{try{x(u.n),v&&(f(v),j(v))}catch(e){console.error("\xdcniversiteler y\xfcklenirken hata oluştu:",e)}})()},[v]),(0,r.jsxs)("div",{className:"container mx-auto flex flex-col md:flex-row gap-4",children:[(0,r.jsx)("div",{className:"hidden md:flex md:flex-1 items-center justify-center",children:(0,r.jsx)("div",{className:"relative w-full max-w-sm",children:(0,r.jsx)(o.default,{src:"/images/education-illustration.svg",alt:"Education",width:380,height:380,className:"object-contain"})})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-[#994D1C]",children:"Kayıt Ol"}),(0,r.jsxs)("p",{className:"mt-1 text-xs text-[#6B3416]",children:["Zaten hesabınız var mı?"," ",(0,r.jsx)(n.default,{href:"/auth/login",className:"font-medium text-[#FF8B5E] hover:text-[#994D1C] transition-colors",children:"Giriş Yap"})]})]}),(0,r.jsxs)("form",{onSubmit:N,className:"space-y-2.5",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-[#6B3416] mb-1",children:"Ad Soyad"}),(0,r.jsx)("input",{id:"name",name:"name",type:"text",required:!0,className:"block w-full rounded-md border-[#FFB996] shadow-sm focus:border-[#FF8B5E] focus:ring focus:ring-[#FF8B5E] focus:ring-opacity-50 px-3 py-1.5"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-[#6B3416] mb-1",children:"Email"}),(0,r.jsx)("input",{id:"email",name:"email",type:"email",required:!0,className:"block w-full rounded-md border-[#FFB996] shadow-sm focus:border-[#FF8B5E] focus:ring focus:ring-[#FF8B5E] focus:ring-opacity-50 px-3 py-1.5"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-[#6B3416] mb-1",children:"Şifre"}),(0,r.jsx)("input",{id:"password",name:"password",type:"password",required:!0,minLength:8,className:"block w-full rounded-md border-[#FFB996] shadow-sm focus:border-[#FF8B5E] focus:ring focus:ring-[#FF8B5E] focus:ring-opacity-50 px-3 py-1.5"}),(0,r.jsx)("p",{className:"mt-1 text-xs text-[#6B3416]",children:"En az 8 karakter olmalıdır"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"passwordConfirm",className:"block text-sm font-medium text-[#6B3416] mb-1",children:"Şifre Tekrar"}),(0,r.jsx)("input",{id:"passwordConfirm",name:"passwordConfirm",type:"password",required:!0,minLength:8,className:"block w-full rounded-md border-[#FFB996] shadow-sm focus:border-[#FF8B5E] focus:ring focus:ring-[#FF8B5E] focus:ring-opacity-50 px-3 py-1.5"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"role",className:"block text-sm font-medium text-[#6B3416] mb-1",children:"Rol"}),(0,r.jsxs)("select",{id:"role",name:"role",required:!0,value:S,onChange:e=>w(e.target.value),className:"block w-full rounded-md border-[#FFB996] shadow-sm focus:border-[#FF8B5E] focus:ring focus:ring-[#FF8B5E] focus:ring-opacity-50 px-3 py-1.5 appearance-none bg-white",children:[(0,r.jsx)("option",{value:"student",children:"\xd6ğrenci"}),(0,r.jsx)("option",{value:"teacher",children:"\xd6ğretmen"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"university",className:"block text-sm font-medium text-[#6B3416] mb-1",children:"\xdcniversite"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{id:"university",name:"university",type:"text",required:!0,placeholder:"\xdcniversitenizi se\xe7in...",value:y,onChange:e=>{f(e.target.value),p(!0),j(e.target.value)},onFocus:()=>p(!0),onBlur:()=>{setTimeout(()=>p(!1),200)},className:"block w-full rounded-md border-[#FFB996] shadow-sm focus:border-[#FF8B5E] focus:ring focus:ring-[#FF8B5E] focus:ring-opacity-50 px-3 py-1.5"}),b&&(0,r.jsx)("div",{ref:E,className:"absolute w-full mt-1 bg-white border border-[#FFE5D9] rounded-lg shadow-lg z-10 max-h-60 overflow-y-auto",children:g.filter(e=>e.toLowerCase().includes(y.toLowerCase())).slice(0,10).map((e,i)=>(0,r.jsx)("div",{className:"group px-4 py-3 hover:bg-gradient-to-r hover:from-[#FFE5D9] hover:to-[#FFF5F0] cursor-pointer transition-all duration-200\n                        ".concat(i===B?"bg-gradient-to-r from-[#FFE5D9] to-[#FFF5F0]":""),onClick:()=>{f(e),j(e),p(!1)},children:(0,r.jsx)("div",{className:"transition-colors duration-200\n                        ".concat(i===B?"text-[#6B3416]":"text-[#994D1C] group-hover:text-[#6B3416]"),children:e})},i))})]})]}),c&&(0,r.jsx)("div",{className:"text-red-600 text-sm font-medium",children:c}),(0,r.jsx)("button",{type:"submit",disabled:h,className:"w-full bg-[#FF9B6A] text-white font-semibold py-1.5 px-4 rounded-md hover:bg-[#FF8B5E] transition-all duration-300 shadow-md hover:shadow-lg disabled:opacity-50 mt-1",children:h?"Kayıt Yapılıyor...":"Kayıt Ol"}),(0,r.jsxs)("p",{className:"mt-2 text-xs text-center text-[#6B3416]",children:["By signing up, you agree to our ",(0,r.jsx)("a",{href:"#",className:"text-[#FF8B5E] hover:text-[#994D1C]",children:"Terms of Use"})," and ",(0,r.jsx)("a",{href:"#",className:"text-[#FF8B5E] hover:text-[#994D1C]",children:"Privacy Policy"}),"."]})]})]})]})}},2406:function(e,i,s){"use strict";s.r(i),s.d(i,{AuthProvider:function(){return l},useAuth:function(){return o}});var r=s(3827),t=s(4090),n=s(7907);let a=(0,t.createContext)({user:null,loading:!1,error:null,login:async()=>{},register:async()=>{},logout:async()=>{},setUser:()=>{}});function l(e){let{children:i}=e,[s,l]=(0,t.useState)(null),[o,u]=(0,t.useState)(!0),[v,m]=(0,t.useState)(null),[c,d]=(0,t.useState)(!1),h=(0,n.useRouter)();(0,t.useEffect)(()=>{d(!0);try{let e=localStorage.getItem("user");if(e){let i=JSON.parse(e);l(i)}}catch(e){console.error("Error loading user from localStorage:",e)}finally{u(!1)}},[]);let k=async e=>{u(!0),m(null);try{let i=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await i.json();if(403===i.status&&s.needsVerification){m("L\xfctfen \xf6nce email adresinizi doğrulayın"),h.push("/auth/verify?email=".concat(encodeURIComponent(s.email)));return}if(!i.ok)throw Error(s.error||"Giriş yapılırken bir hata oluştu");l(s.user),localStorage.setItem("user",JSON.stringify(s.user)),localStorage.setItem("token",s.token),"student"===s.user.role?h.push("/egitmenler"):h.push("/")}catch(e){throw m(e.message),e}finally{u(!1)}},y=async e=>{u(!0),m(null);try{let i=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await i.json();if(!i.ok)throw Error(s.error||"Kayıt olurken bir hata oluştu");let r=null;s.user?(r=s.user,console.log("API yanıtı result.user i\xe7inde bulundu:",r)):s.id||s._id||s.name||s.email?(r=s,console.log("API yanıtı doğrudan result i\xe7inde bulundu:",r)):(console.log("API yanıtında kullanıcı verisi bulunamadı, ge\xe7ici kullanıcı oluşturuluyor"),r={id:Math.random().toString(36).substring(2,15),name:e.name,email:e.email,role:e.role,university:e.university,isVerified:!1}),console.log("Kullanıcının kayıt formunda se\xe7tiği rol:",e.role),console.log("API yanıtında gelen rol (varsa):",r.role);let t={id:r.id||r._id||"",name:r.name||e.name||"",email:r.email||e.email||"",role:e.role||r.role||"student",university:r.university||e.university||"",isVerified:r.isVerified||!1,expertise:r.expertise};console.log("Doğrulanmış kullanıcı verisi:",t),h.push("/auth/verify?email=".concat(encodeURIComponent(t.email)))}catch(e){throw console.error("Kayıt hatası:",e),m(e.message),e}finally{u(!1)}},f=async()=>{u(!0),m(null);try{let e=await fetch("/api/auth/logout",{method:"POST"});if(!e.ok){let i=await e.json();throw Error(i.error||"\xc7ıkış yapılırken bir hata oluştu")}l(null),localStorage.removeItem("user"),localStorage.removeItem("token"),h.push("/auth/login")}catch(e){throw m(e.message),e}finally{u(!1)}};return c?(0,r.jsx)(a.Provider,{value:{user:s,loading:o,error:v,login:k,register:y,logout:f,setUser:l},children:i}):(0,r.jsx)(a.Provider,{value:{user:null,loading:!0,error:null,login:async()=>{},register:async()=>{},logout:async()=>{},setUser:()=>{}},children:i})}function o(){return(0,t.useContext)(a)}},1853:function(e,i,s){"use strict";s.d(i,{n:function(){return r}});let r=["Abdullah G\xfcl \xdcniversitesi","Acıbadem Mehmet Ali Aydınlar \xdcniversitesi","Adana Alparslan T\xfcrkeş Bilim ve Teknoloji \xdcniversitesi","Adıyaman \xdcniversitesi","Afyon Kocatepe \xdcniversitesi","Afyonkarahisar Sağlık Bilimleri \xdcniversitesi","Ağrı İbrahim \xc7e\xe7en \xdcniversitesi","Ahi Evran \xdcniversitesi","Akdeniz \xdcniversitesi","Aksaray \xdcniversitesi","Alanya Alaaddin Keykubat \xdcniversitesi","Alanya \xdcniversitesi","Amasya \xdcniversitesi","Anadolu \xdcniversitesi","Ankara Bilim \xdcniversitesi","Ankara Hacı Bayram Veli \xdcniversitesi","Ankara Medipol \xdcniversitesi","Ankara M\xfczik ve G\xfczel Sanatlar \xdcniversitesi","Ankara Sosyal Bilimler \xdcniversitesi","Ankara \xdcniversitesi","Ankara Yıldırım Beyazıt \xdcniversitesi","Antalya Akev \xdcniversitesi","Antalya Belek \xdcniversitesi","Antalya Bilim \xdcniversitesi","Ardahan \xdcniversitesi","Artvin \xc7oruh \xdcniversitesi","Atat\xfcrk \xdcniversitesi","Atılım \xdcniversitesi","Avrasya \xdcniversitesi","Aydın Adnan Menderes \xdcniversitesi","Bah\xe7eşehir \xdcniversitesi","Balıkesir \xdcniversitesi","Bandırma Onyedi Eyl\xfcl \xdcniversitesi","Bartın \xdcniversitesi","Başkent \xdcniversitesi","Batman \xdcniversitesi","Bayburt \xdcniversitesi","Beykent \xdcniversitesi","Beykoz \xdcniversitesi","Bezmi\xe2lem Vakıf \xdcniversitesi","Bilecik Şeyh Edebali \xdcniversitesi","Bing\xf6l \xdcniversitesi","Biruni \xdcniversitesi","Bitlis Eren \xdcniversitesi","Boğazi\xe7i \xdcniversitesi","Bolu Abant İzzet Baysal \xdcniversitesi","Burdur Mehmet Akif Ersoy \xdcniversitesi","Bursa Teknik \xdcniversitesi","Bursa Uludağ \xdcniversitesi","\xc7ağ \xdcniversitesi","\xc7anakkale Onsekiz Mart \xdcniversitesi","\xc7ankaya \xdcniversitesi","\xc7ankırı Karatekin \xdcniversitesi","\xc7ukurova \xdcniversitesi","Dicle \xdcniversitesi","Doğuş \xdcniversitesi","Dokuz Eyl\xfcl \xdcniversitesi","D\xfczce \xdcniversitesi","Ege \xdcniversitesi","Erciyes \xdcniversitesi","Erzincan Binali Yıldırım \xdcniversitesi","Erzurum Teknik \xdcniversitesi","Eskişehir Osmangazi \xdcniversitesi","Eskişehir Teknik \xdcniversitesi","Fenerbah\xe7e \xdcniversitesi","Fırat \xdcniversitesi","Galatasaray \xdcniversitesi","Gaziantep İslam Bilim ve Teknoloji \xdcniversitesi","Gaziantep \xdcniversitesi","Gazi \xdcniversitesi","Gebze Teknik \xdcniversitesi","Giresun \xdcniversitesi","G\xfcm\xfcşhane \xdcniversitesi","Hacettepe \xdcniversitesi","Hakkari \xdcniversitesi","Hali\xe7 \xdcniversitesi","Harran \xdcniversitesi","Hatay Mustafa Kemal \xdcniversitesi","Hitit \xdcniversitesi","Iğdır \xdcniversitesi","Isparta Uygulamalı Bilimler \xdcniversitesi","İbn Haldun \xdcniversitesi","İhsan Doğramacı Bilkent \xdcniversitesi","İn\xf6n\xfc \xdcniversitesi","İskenderun Teknik \xdcniversitesi","İstanbul 29 Mayıs \xdcniversitesi","İstanbul Arel \xdcniversitesi","İstanbul Atlas \xdcniversitesi","İstanbul Aydın \xdcniversitesi","İstanbul Ayvansaray \xdcniversitesi","İstanbul Bilgi \xdcniversitesi","İstanbul Esenyurt \xdcniversitesi","İstanbul Galata \xdcniversitesi","İstanbul Gedik \xdcniversitesi","İstanbul Gelişim \xdcniversitesi","İstanbul Kent \xdcniversitesi","İstanbul K\xfclt\xfcr \xdcniversitesi","İstanbul Medeniyet \xdcniversitesi","İstanbul Medipol \xdcniversitesi","İstanbul Okan \xdcniversitesi","İstanbul Rumeli \xdcniversitesi","İstanbul Sabahattin Zaim \xdcniversitesi","İstanbul Sağlık ve Teknoloji \xdcniversitesi","İstanbul Teknik \xdcniversitesi","İstanbul Ticaret \xdcniversitesi","İstanbul \xdcniversitesi","İstanbul \xdcniversitesi-Cerrahpaşa","İstinye \xdcniversitesi","İzmir Bakır\xe7ay \xdcniversitesi","İzmir Demokrasi \xdcniversitesi","İzmir Ekonomi \xdcniversitesi","İzmir K\xe2tip \xc7elebi \xdcniversitesi","İzmir Tınaztepe \xdcniversitesi","İzmir Y\xfcksek Teknoloji Enstit\xfcs\xfc","Jandarma ve Sahil G\xfcvenlik Akademisi","Kadir Has \xdcniversitesi","Kafkas \xdcniversitesi","Kahramanmaraş İstiklal \xdcniversitesi","Kahramanmaraş S\xfct\xe7\xfc İmam \xdcniversitesi","Karab\xfck \xdcniversitesi","Karadeniz Teknik \xdcniversitesi","Karamanoğlu Mehmetbey \xdcniversitesi","Kastamonu \xdcniversitesi","Kayseri \xdcniversitesi","Kırıkkale \xdcniversitesi","Kırklareli \xdcniversitesi","Kilis 7 Aralık \xdcniversitesi","Kocaeli Sağlık ve Teknoloji \xdcniversitesi","Kocaeli \xdcniversitesi","Ko\xe7 \xdcniversitesi","Konya Gıda ve Tarım \xdcniversitesi","Konya Teknik \xdcniversitesi","KTO Karatay \xdcniversitesi","K\xfctahya Dumlupınar \xdcniversitesi","K\xfctahya Sağlık Bilimleri \xdcniversitesi","Lokman Hekim \xdcniversitesi","Malatya Turgut \xd6zal \xdcniversitesi","Maltepe \xdcniversitesi","Manisa Celal Bayar \xdcniversitesi","Mardin Artuklu \xdcniversitesi","Marmara \xdcniversitesi","MEF \xdcniversitesi","Mersin \xdcniversitesi","Mimar Sinan G\xfczel Sanatlar \xdcniversitesi","Milli Savunma \xdcniversitesi","Muğla Sıtkı Ko\xe7man \xdcniversitesi","Munzur \xdcniversitesi","Muş Alparslan \xdcniversitesi","Necmettin Erbakan \xdcniversitesi","Nevşehir Hacı Bektaş Veli \xdcniversitesi","Niğde \xd6mer Halisdemir \xdcniversitesi","Nişantaşı \xdcniversitesi","Nuh Naci Yazgan \xdcniversitesi","Ondokuz Mayıs \xdcniversitesi","Ordu \xdcniversitesi","Orta Doğu Teknik \xdcniversitesi","Osmaniye Korkut Ata \xdcniversitesi","Ostim Teknik \xdcniversitesi","\xd6zyeğin \xdcniversitesi","Pamukkale \xdcniversitesi","Piri Reis \xdcniversitesi","Polis Akademisi","Recep Tayyip Erdoğan \xdcniversitesi","Sabancı \xdcniversitesi","Sağlık Bilimleri \xdcniversitesi","Sakarya Uygulamalı Bilimler \xdcniversitesi","Sakarya \xdcniversitesi","Sanko \xdcniversitesi","Sel\xe7uk \xdcniversitesi","Siirt \xdcniversitesi","Sinop \xdcniversitesi","Sivas Bilim ve Teknoloji \xdcniversitesi","Sivas Cumhuriyet \xdcniversitesi","Şırnak \xdcniversitesi","TED \xdcniversitesi","Tobb Ekonomi ve Teknoloji \xdcniversitesi","Tokat Gaziosmanpaşa \xdcniversitesi","Toros \xdcniversitesi","Trabzon \xdcniversitesi","Trakya \xdcniversitesi","Tunceli Munzur \xdcniversitesi","T\xfcrk-Alman \xdcniversitesi","T\xfcrk Hava Kurumu \xdcniversitesi","Ufuk \xdcniversitesi","Uluslararası Antalya \xdcniversitesi","Uluslararası Final \xdcniversitesi","Uşak \xdcniversitesi","\xdcsk\xfcdar \xdcniversitesi","Van Y\xfcz\xfcnc\xfc Yıl \xdcniversitesi","Yalova \xdcniversitesi","Yaşar \xdcniversitesi","Yeditepe \xdcniversitesi","Yozgat Bozok \xdcniversitesi","Y\xfcksek İhtisas \xdcniversitesi","Zonguldak B\xfclent Ecevit \xdcniversitesi"]},7907:function(e,i,s){"use strict";var r=s(5313);s.o(r,"usePathname")&&s.d(i,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(i,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(i,{useSearchParams:function(){return r.useSearchParams}})}},function(e){e.O(0,[792,703,971,69,744],function(){return e(e.s=2071)}),_N_E=e.O()}]);